function addEvent(e,t,o){var n=e===window||e===document;if(void 0!==e&&e.nodeType)var i=e.nodeType;else i=void 0;var l=1!=i&&e.length>1;if(!n&&l){var a=void 0;return void Array.prototype.forEach.call(e,function(e){a=e,on(a,t,o)})}on(e,t,o)}function on(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent(t,o)}function EventEmitter(){this.on=function(e,t){this._listHandlers||(this._listHandlers={}),this._listHandlers[e]||(this._listHandlers[e]=[]),this._listHandlers[e].push(t)},this.off=function(e,t){var o=this._listHandlers&&this._listHandlers[e];if(o)for(var n=0;n<=o.length;n++)o[n]==t&&o.splice(n-1,1)},this.emit=function(e){if(this._listHandlers&&this._listHandlers[e])for(var t=this._listHandlers[e],o=t.length-1;o>=0;o--)t[o].apply(this,arguments)}}function Overlay(e){this.overlay=e.elem,this.scroll=e.scroll,this.statusScroll=!0,this.open=function(){this.overlay.classList.add("open"),l()}.bind(this),this.close=function(){this.overlay.classList.remove("open"),l()}.bind(this);var t=e.closeBtn,o=e.openBtn,n=e.activePlace,i=addEvent.bind(this),l=function(e){if(this.scroll){var t=document.body||document.documentElement.body,o=t.classList;return this.statusScroll?(o.add("no-scroll"),e&&e(),this.statusScroll=!1):(o.remove("no-scroll"),this.statusScroll=!0)}}.bind(this),a=function(e){if(!e)return!1;var e="."+e.toString();if(document.querySelectorAll(e).length>1)return document.querySelectorAll(e);var t=document.querySelector(e);return t?t:!1};this.overlay&&(i(a(n),"click",function(e){var e=e||window.event;e.stopPropagation()}),i(a(t),"click",this.close),i(this.overlay,"click",this.close),i(a(o),"click",this.open))}function equalBlocks(e){addEvent(window,"load",function(){equalheight(e)}),addEvent(window,"resize",function(){equalheight(e)})}function dropdownMenu(e){function t(e){e.parentNode.classList.toggle("active_link__list")}var o=document.querySelectorAll(e);addEvent(o,"click",function(e){for(var o,e=e||window.e,n=e.target||e.srcElement;n!=document&&(o=n.classList.contains("wrap-list")&&this.contains(n),!o||!n.classList.contains("active_link"));)n=n.parentNode;n!=document&&n&&(e.preventDefault(),t(n))})}function createMap(e){function t(e,t){var o={zoom:11,scrollwheel:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},zoomControl:!1,scaleControl:!0,panControl:!1,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:new google.maps.LatLng(t[0],t[1])},n=new google.maps.Map(e,o);new google.maps.Marker({position:o.center,map:n,visible:!0})}var o=document.querySelectorAll(e.selecter);o.length<=0||Array.prototype.forEach.call(o,function(o){_coordStr=o.getAttribute(e.coord).split(","),t(o,_coordStr)})}function ToggeleFeed(e){this.elemID=e.elem,this.btnClose=e.btnC,this.btnOpen=e.btnO,this.hiddeLayer=e.layer,this.showField=e.show,this.disableField=e.active,this.__cutline__=function(e){for(var t=e,e=t;t!=document&&(void 0===e||!e.classList.contains(this.elemID));)e=e.parentNode;var o=e.querySelector("."+this.showField),n=t.innerHTML.split(" ",30),i=n[n.length-1].slice(this.length,-3).trim().concat("..."),l=e.querySelector("."+this.disableField);l.style.display="none",n.splice(n.length-1,1,i),o.innerHTML=n.join(" ")},this.close=function(e){var t=o(e);$(t.notactive).slideUp(300),setTimeout(function(){t.active.classList.add("hidde-toggle-field")},300)}.bind(this),this.open=function(e){var t=o(e);t.active.classList.remove("hidde-toggle-field"),$(t.notactive).slideDown(300)}.bind(this);var t=addEvent.bind(this),o=function(e){var e=e||window.e,t=e.target||e.srcElement,o=function(){var e=document.querySelectorAll("."+this.disableField),o=void 0;if(e&&!(e.length<=0))return Array.prototype.forEach.call(e,function(e){var n=e.parentNode;n.contains(t)&&(o=e)}),o}(),n=o.parentNode;return{active:n,notactive:o}}.bind(this),n=function(){var e=document.querySelectorAll("."+this.elemID+" ."+this.hiddeLayer);return!e&&e.length<=0?!1:void Array.prototype.forEach.call(e,function(e){this.__cutline__(e)})}.bind(this),i=function(e){if(!e)return!1;var e="."+e.toString();if(document.querySelectorAll(e).length>1)return document.querySelectorAll(e);var t=document.querySelector(e);return t?t:!1};t(i(this.btnClose),"click",this.close),t(i(this.btnOpen),"click",this.open),n()}var eventer=new EventEmitter;eventer.on("loadmap",function(){createMap({selecter:".map",coord:"data-coord"})}),$(".card-slider").slick({dots:!0,fade:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!0}),$(".slider-doc").slick({dots:!1,fade:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!0}),$(".angel_slider").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,arrows:!1,adaptiveHeight:!0}),$(".feedback_slider").slick({dots:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!0}),jQuery(document).ready(function(e){function t(e){var t=parseInt(e.width()),o=parseInt(e.width());e.scrollLeft()>=t-o?e.parent(".tabs").addClass("is-ended"):e.parent(".tabs").removeClass("is-ended")}var o=e(".tabs");o.each(function(){var o=e(this),n=o.find("ul.tabs-navigation"),i=o.children(".tabs-content"),l=o.find(".tabs-navigation");n.on("click","a",function(t){t.preventDefault();var o=e(this);if(!o.hasClass("active_link")){var l=o.data("content"),a=i.find('li[data-content="'+l+'"]');n.find("a.active_link").removeClass("active_link"),o.addClass("active_link"),a.addClass("active_tab").siblings("li").removeClass("active_tab");var r=a.innerHeight();i.animate({height:r},200),eventer.emit("loadmap")}}),t(l),l.on("scroll",function(){t(e(this))})}),e(window).on("resize",function(){o.each(function(){var o=e(this);t(o.find(".tabs-navigation")),o.find(".tabs-content").css("height","auto")})})}),function(){function e(e){var t=!1;addEvent(window,"scroll",function(o){var n=e.getBoundingClientRect(),i=e.parentNode.parentNode.getBoundingClientRect();n.top<=0&&!t?(e.classList.add("scroll-nav-active"),t=!0):n.bottom<=i.bottom&&(t=!1,e.classList.remove("scroll-nav-active"))})}var t=document.querySelector(".header .nav");e(t)}();var overlayDoc=new Overlay({elem:document.querySelector(".overlay_doc"),scroll:!0,closeBtn:"btn-overlay-close",openBtn:"card-fourth",activePlace:"active-overlay-place"}),overlayFeedBack=new Overlay({elem:document.querySelector(".overlay_feedback"),scroll:!0,closeBtn:"btn-overlay-close",openBtn:"btn-feedback",activePlace:"active-overlay-place"}),overlayWrite=new Overlay({elem:document.querySelector(".overlay_write"),scroll:!0,closeBtn:"btn-overlay-close",openBtn:"btn-write-overlay",activePlace:"active-overlay-place"}),overlayQuestion=new Overlay({elem:document.querySelector(".overlay_question"),scroll:!0,closeBtn:"btn-overlay-close",openBtn:"btn-question",activePlace:"active-overlay-place"}),overlayCall=new Overlay({elem:document.querySelector(".overlay_call"),scroll:!0,closeBtn:"btn-overlay_call",openBtn:"btn-call",activePlace:"active-overlay-place"}),overlayMap=new Overlay({elem:document.querySelector(".overlay_map"),scroll:!0,closeBtn:"btn-overlay_map",openBtn:"btn-where",activePlace:"active-overlay-place"}),equalheight=function(e){var t,o=0,n=0,i=new Array;$(e).each(function(){if(t=$(this),$(t).height("auto"),topPostion=t.position().top,n!=topPostion){for(currentDiv=0;currentDiv<i.length&&!window.CP.shouldStopExecution(1);currentDiv++)i[currentDiv].height(o);i.length=0,n=topPostion,o=t.height(),i.push(t),window.CP.exitedLoop(1)}else i.push(t),o=o<t.height()?t.height():o;for(currentDiv=0;currentDiv<i.length&&!window.CP.shouldStopExecution(2);currentDiv++)i[currentDiv].height(o);window.CP.exitedLoop(2)})};equalBlocks(".grid .card-middle"),equalBlocks(".wrapper .equal-field"),equalBlocks(".right-column .column"),function(){document.querySelector(".map")&&addEvent(window,"load",function(){eventer.emit("loadmap")})}(),dropdownMenu(".nav");var feedback=ToggeleFeed({elem:"feedback-card_full",btnC:"btn-toggle",btnO:"btn-toggle_disabled",layer:"text-wrapper p",active:"js-accord_block",show:"js-active_field"});!function(){var e=document.querySelectorAll(".js-accord .accord__block");Array.prototype.forEach.call(e,function(e){e.style.display="none"}),addEvent(document,"click",function(e){for(var e=e||window.e,t=e.target||e.srcElement,o=void 0,n=void 0;t!=this&&!t.classList.contains("js-accord-but");)t=t.parentNode;t!=document&&(o=t.parentNode,o.classList.contains("is-active")?(o.classList.remove("is-active"),$(o).find(".accord__block").slideUp(300)):(n=$(".js-accord.is-active"),n&&0!=n.length&&(n[0].classList.remove("is-active"),$(n[0]).find(".accord__block").slideUp(300)),o.classList.add("is-active"),$(o).find(".accord__block").slideDown(300)))})}();